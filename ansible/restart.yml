---
- name: RedÃ©marrage SIT Innovation
  hosts: localhost
  connection: local
  become: no
  vars:
    project_dir: "{{ ansible_env.PWD }}"
    
  tasks:
    # ArrÃªt complet
    - name: ArrÃªt complet
      include_tasks: stop-full.yml
      tags: [stop]

    # Attente
    - name: Attente aprÃ¨s arrÃªt
      wait_for:
        timeout: 5

    # RedÃ©marrage
    - name: RedÃ©marrage complet
      include_tasks: deploy-full.yml
      tags: [start]

    - name: RedÃ©marrage terminÃ©
      debug:
        msg: |
          ğŸ”„ RedÃ©marrage terminÃ© !
          
          ğŸŒ Application : http://localhost
          ğŸ” Vault : http://localhost:8200
